import{u as g,Z as f,r as S,_ as b,j as s,S as w,C as I,$ as y,a0 as E,a1 as o,a2 as i,a3 as C,a4 as l,a5 as L,a6 as V,a7 as B,a8 as F,P,a9 as T,aa as k,n as z}from"./index-C1uBPyO1.js";import{s as v}from"./signSchema-6qGNmxum.js";const R=()=>{const{t:a}=g(),[d]=f(),[e,p]=S.useState(!1),{register:n,handleSubmit:c,formState:{errors:r},setValue:u,reset:x}=b({mode:"onSubmit",defaultValues:{login:"",password:""},resolver:k(v)}),m=({login:t,password:h})=>{d({login:t.toLowerCase(),password:h}).unwrap().then(x).catch(j=>z(j.data.message))};return s.jsx(w,{children:s.jsx(I,{children:s.jsxs(y,{autoComplete:"off",onSubmit:c(m),children:[s.jsxs(E,{children:[s.jsxs(o,{children:[s.jsx(i,{type:"text",placeholder:" ",...n("login"),onInput:t=>C(t.target,u)}),s.jsx("label",{children:a("form.login")}),s.jsx(l,{inputError:r.login})]}),s.jsxs(o,{children:[s.jsx(i,{name:"password",type:e?"text":"password",placeholder:" ",...n("password")}),s.jsx("label",{htmlFor:"password",children:a("form.password")}),s.jsx(l,{inputError:r.password}),s.jsx(L,{type:"button",onClick:()=>p(!e),children:e?s.jsx(V,{size:20}):s.jsx(B,{size:20})})]})]}),s.jsxs(F,{children:[s.jsx(P,{type:"submit",children:a("form.action.log-in")}),s.jsx(T,{to:"/auth/signup",children:a("form.action.register")})]})]})})})};export{R as default};
